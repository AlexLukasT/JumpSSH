# required for sonar (https://docs.travis-ci.com/user/sonarqube/)
dist: trusty

# required for docker and sonar
sudo: required

language: python

services:
  - docker

addons:
  sonarqube:
    organization: "amadeus-7of9-github"
    token:
      secure: "UyK87awinvxf+rTLkwkGfibO/hHymMtg8lgbLOEyXYFuvSJLPRwyih9Od62g0W1Zub3RoosWaDsQALU6CeFLYvKUyCOJIC9olCB9yrZT3H3NoaJNAyK9N2PCQNSzNtslh2K07rzPQUbyKESO3Y9MkWsKk49ozLxPJ7TKsW+1k9s6ARhHeZPAUmDFSdADciFfBLa9tx/6XktuqG5bgTocrN3J0i3VJ1q9Z0cFRoKV4XYsc2qSfjg/f7lrZvGgPzAB8dadXWt72yaUk+5QTZOHce0zx/XroWzaBmXzdB3eDo93bc2tzKxNi3DG2+PTiwz4Z1GAas2jGmdtsooqxbpc25FrEMLN6QujjWh7TRXFGP6kjATOtqvO1n3pC0NtZOTRn9lT91oSql5kHjv6Isy3C9CO9JC5Ma43awykAp+vuBTSzxTT3y9xuJdCXNn1k7Jo3PEiZ/K2rzUfcW2k3ZFGoZpfJb6kyNAC21xIOxbBGqS99L8/anfpjegtTnJ24GbeP21phfofBCZVTCKJhITQjCJsg/EPPYkZGuzbA6KtN3bmScKrYX+SE3wCeUDpAJyDM85gUOfGF0OK2oq1SD4GFvD6z+vZ3h4aLZ9seRjE43P4aUWQRB5q9exnutowsuKQhyMjWeiR9GwqriGNQh5Mh2A0RmZ6EQ5kdsm62AwEY88="

python: 3.6
env:
  matrix:
    - TOX_ENV=flake8
    - TOX_ENV=docs
    - TOX_ENV=py26
    - TOX_ENV=py27
    - TOX_ENV=py33
    - TOX_ENV=py34
    - TOX_ENV=py35
    - TOX_ENV=py36
    - TOX_ENV=pypy

  global:
    # GITHUB_TOKEN
    - secure: "Br8mZxiBxGBH34FRGIxkXsYkPLL1tIVf1SSpvgOEYWGbvO910+UAnhpow+eufS9zqVOYUQIUA0PfEVd2EoCIgf6WHNsLOJRrEMkOyxd2SCgXsVaZu1f1TszfjCHEcAard0mwn2KrNEyR0DnB6xujHiY+O0LIdz7yicwh1BQd43wZaOYOpy3ohs969OOZ2Le6rfOMHCJY1Bsa018bwVwUB8Re3tAqsh+TCMVwWxhXfvZdTXe7kOMsjwh1a3TbcuIFFvfP/FxDqfJ0NJ1OLUmxvGVLXAnZHamPBgifSDQcu/BkxNcVQbLH3Pb7lo3Nx1ywr+LbXynC//xYQTn+0Ky9dSUrTZ+RDyRzvDxXs7fGttA2T67pBqWN8WUtZ5HXKr1GJa3WsCPzMgXegBfY1qiMvFRbRmjnV118xeOtOiLm1HHq4imxVGyLV23IvK9WBvZknouWHqWDYPWi5AbHQZ0Wk1oovIIS+Z3uDei5I77mzIk1D73wkgc0vNsNKdkFNMPMj94iRW945M768Ef4Qb0Oz/VWmHEsuMJycx3A8enXjC/tw14AVJKDJqlcoI/2UZZ5fBEIpOaSfBc6sQxVg0OgJ9/3aMF0RAYs2048jX02raoCKNVGBv/PPTop5hfQvdZ13ifkugPUnWszFXisa7VpP8AQklrFBU81jGJCNfPAl+g="



install:
  - pip install tox coveralls

script:
  - tox -e $TOX_ENV
  - sonar-scanner

after_success:
  - coveralls

deploy:
  # deploys to PyPI on any tagged commit
  - provider: pypi
    user: tcastaing
    password:
      secure: "SQogu9XzcnplQBLWXqo2qwZBUpgInKflrei6BdTaYbxmCtdbCmev7H9OHBBXzzPe8R5WjjKqKNw6rFBJP2kAp2pS9KNJi1BfhHNvvs4JDgt4xUQ6hlcvyBAV+/L+EslIcXgm4AjEGBCn6G+4i9dwonYgl1iMIh0DAgRGQHexnyKDWpxlsgdH3TInwC2vZuZARAGhvzy3KB/X1nBNa6wbD7qEVTMiHmEEIZINS3PG6SGcaBSYSJaOPi2f7/MWLhzxXgKfWJgNpPNrMzlHJ4J7GSHlUlsLVZKaYoBihPa5+e6dkVKh8qrxJBIZe4y5kKuY+sRtlslFwbVQj8dE6T5rdiPLuBDhTkTL98tVAgHrKZjmhZ97sak/iPr14yHAk5K9hgEh+wsI8w48Edhk4KA+MmQA4lhPUzFW0Fm9jqVkpowNjc4NgAcGK009cW1+ZjlZnQFwIzfoYgbKsyisGwdclVHAotpxnibZqBfza0AXhbeX+5w+ZEF92gqvjdvG6dMWiQdplRWyYScpAq/1c2L8EkhXYfk8i8Jl+LkuH2xoRfEdG0Vr/EpW1omThkwGz2v6QPd29p1EgI4hiJ7GsmQvf8DoPejMW46QibZWKENIxkN2md9UzIKQEuNo7mf2pXGUgfdXtxjIC8AnHyoYCyqpjSPeBMi1uKQYLI/wnGpckDY="
    on:
      tags: true
      distributions: sdist bdist_wheel
      repo: AmadeusITGroup/JumpSSH
